<div class="container">
  <!-- <video loop autoplay muted>
    <source src="/assets/background.webm" type="video/webm" />
    <source src="/assets/background.mp4" type="video/mp4" />
  </video> -->
  <!-- <img src="/assets/background_static.png" class="videoback" /> -->
  <app-wave-background></app-wave-background>
  <div class="background">
    <div class="header">
      <div class="logo">
        <div class="logo-placeholder"></div>SeaDuel</div>
      <div class="spacer"></div>
      <div class="right">
        <div class="username">Benvenuto,
          <b>
            <i> {{currentUser.id}}</i>
            <div class="position">{{currentUser.wonGames + " / " + currentUser.lostGames}}</div>
          </b>
        </div>
        <div class="material-icons account">
          account_circle
        </div>
        <div class="user-modal">
          <a href="/my">Il mio account
            <i class="material-icons">
              perm_contact_calendar
            </i>
          </a>
          <a *ngIf="currentUser.role === 'administrator'" href="/admin">Amministrazione
            <i class="material-icons">
              build
            </i>
          </a>
          <a href="#" (click)="logout()">Esci
            <i class="material-icons">
              exit_to_app
            </i>
          </a>
        </div>
      </div>
    </div>
    <div class="body-container">
      <div class="body-background">
        <div class="spacer column" *ngIf="opponentId">
          <app-account-header class="ztop" [user]="opponent" [actionActive]="actionActive(game)" (action)="onHeaderAction()"
            actionText="{{getGameState(game) === 'Ended' ? 'Sfida' : 'Abbandona partita'}}"></app-account-header>
          <div class="spacerFlex">
            <app-chat [opponentId]="opponentId" [messages]="messages"></app-chat>
            <app-game-area [opponentId]="opponentId" [game]="game" (needsUpdate)="updateGame()"></app-game-area>
          </div>
        </div>
        <div class="spacer nouser-container" *ngIf="!opponentId">
          <h1>Benvenuto su SeaDuel</h1>
          <p>Seleziona un utente a lato per cominciare a giocare.</p>
          <p>Puoi cercare un utente se conosci il suo nome oppure selezionarne uno in attesa per giocare.</p>
        </div>
      </div>
      <app-sidebar class="sidebar" [friends]="friends" [waiting]="waiting" [top]="top" (find)="onFind($event)"></app-sidebar>
    </div>
  </div>
</div>