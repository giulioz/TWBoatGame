<div class="root">
  <div class="top-bar message" *ngIf="currentState(game) == 'Ended'">
    <div class="row spacer">
      <div class="material-icons bigger">play_arrow</div>
      <div>Premi <strong>Sfida</strong> per cominciare la partita</div>
    </div>
    <div class="material-icons bigger optional">
      arrow_forward
    </div>
    <button class="button show" (click)="newGame()">
      Sfida
    </button>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'WaitingForResponse'">
    <div class="row spacer">
      <div class="material-icons bigger">watch_later</div>
      <div>Sfida inviata. Risposta in attesa...</div>
    </div>
    <button class="button show" (click)="resignGame()">
      Abbandona partita
    </button>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'HasToRespond'">
    <div class="row spacer">
      <div class="material-icons bigger">watch_later</div>
      <div>Ti ha invitato a giocare. Accetti?</div>
    </div>
    <button class="button show" (click)="acceptGameRequest()">Accetta</button>
    <button class="button show" (click)="rejectGameRequest()">Rifiuta</button>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'PlayerToPosition'">
    <div class="row spacer">
      <div class="material-icons bigger">open_with</div>
      <div>Posiziona le tue Navi</div>
    </div>
    <button class="button show rotate-button" (click)="turnBoat()">
      <span class="material-icons rotate-icon">refresh</span>
    </button>
    <button class="button show" (click)="resignGame()">
      Abbandona partita
    </button>
  </div>
  <div class="center" *ngIf="currentState(game) == 'PlayerToPosition'">
    <div>
      <app-board-view [board]="playerBoard(game)" (action)="positionAction($event)" [currentBoat]="currentBoat()"></app-board-view>
      <app-boats-view [game]="game" mode="positioning"></app-boats-view>
    </div>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'OpponentToPosition'">
    <div class="row spacer">
      <div class="material-icons bigger">watch_later</div>
      <div>Attendi, il tuo avversario sta ancora posizionando le sue navi...</div>
    </div>
    <button class="button show" (click)="resignGame()">
      Abbandona partita
    </button>
  </div>

  <div class="top-bar" *ngIf="currentState(game) == 'PlayerTurn'">
    <div class="spacer">Ãˆ il tuo turno! Seleziona una casella avversaria da colpire</div>
    <button class="button show" (click)="resignGame()">
      Abbandona partita
    </button>
  </div>
  <div class="center" *ngIf="currentState(game) == 'PlayerTurn'">
    <div>
      Il tuo campo:
      <app-board-view [board]="playerBoard(game)"></app-board-view>
      <app-boats-view [game]="game" [board]="playerBoard(game)"></app-boats-view>
    </div>
    <div>
      Campo avversario:
      <app-board-view [board]="opponentBoard(game)" (action)="moveAction($event)"></app-board-view>
      <app-boats-view [game]="game" [board]="opponentBoard(game)"></app-boats-view>
    </div>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'OpponentTurn'">
    <div class="spacer">Attendi il turno del tuo avversario...</div>
    <button class="button show" (click)="resignGame()">
      Abbandona partita
    </button>
  </div>
  <div class="center" *ngIf="currentState(game) == 'OpponentTurn'">
    <div>
      Il tuo campo:
      <app-board-view [board]="playerBoard(game)"></app-board-view>
      <app-boats-view [game]="game" [board]="playerBoard(game)"></app-boats-view>
    </div>
    <div>
      Campo avversario:
      <app-board-view [board]="opponentBoard(game)"></app-board-view>
      <app-boats-view [game]="game" [board]="opponentBoard(game)"></app-boats-view>
    </div>
  </div>

  <div class="top-bar message" *ngIf="currentState(game) == 'Won'">
    <div class="row spacer">
      <div class="material-icons bigger">play_arrow</div>
      <div>Premi <strong>Sfida</strong> per cominciare la partita</div>
    </div>
    <div class="material-icons bigger optional">
      arrow_forward
    </div>
    <button class="button show" (click)="newGame()">
      Sfida
    </button>
  </div>
  <div class="center" *ngIf="currentState(game) == 'Won'">
    <div class="message">
      <div class="material-icons icon">
        done
      </div><br />
      <strong>Hai vinto!</strong><br /> Vuoi la rivincita? Gioca di nuovo!
    </div>
  </div>


  <div class="top-bar message" *ngIf="currentState(game) == 'Lost'">
    <div class="row spacer">
      <div class="material-icons bigger">play_arrow</div>
      <div>Premi <strong>Sfida</strong> per cominciare la partita</div>
    </div>
    <div class="material-icons bigger optional">
      arrow_forward
    </div>
    <button class="button show" (click)="newGame()">
      Sfida
    </button>
  </div>
  <div class="center" *ngIf="currentState(game) == 'Lost'">
    <div class="message">
      <div class="material-icons icon">
        warning
      </div><br />
      <strong>Hai perso!</strong><br /> Vuoi la rivincita? Gioca di nuovo!
    </div>
  </div>
</div>